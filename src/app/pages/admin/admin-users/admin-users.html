<div class="p-6 bg-slate-50 min-h-screen">
    <h2 class="text-2xl font-bold mb-6 text-sky-700 flex items-center gap-2">
        üë• Qu·∫£n l√Ω ng∆∞·ªùi d√πng
    </h2>

    <div *ngIf="error" class="text-red-600 font-semibold mb-4">
        ‚ùå {{ error }}
    </div>

    <div class="overflow-x-auto rounded-xl shadow-lg border border-slate-200 bg-white">
        <table class="min-w-full text-sm text-left text-gray-700">
            <thead class="bg-sky-100 text-sky-800">
                <tr>
                    <th class="px-4 py-3 font-semibold text-center">STT</th>
                    <th class="px-4 py-3 font-semibold">T√†i kho·∫£n</th>
                    <th class="px-4 py-3 font-semibold">Email</th>
                    <th class="px-4 py-3 font-semibold">Vai tr√≤</th>
                    <th class="px-4 py-3 font-semibold text-center">Tr·∫°ng th√°i</th>
                    <th class="px-4 py-3 font-semibold text-center">T√°c v·ª•</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let u of paginatedUsers; let i = index" class="border-t hover:bg-slate-50 transition">
                    <td class="px-4 py-2 text-center">{{ (currentPage - 1) * pageSize + i + 1 }}</td>
                    <td class="px-4 py-2">{{ u.username }}</td>
                    <td class="px-4 py-2">{{ u.email || '‚Äî' }}</td>
                    <td class="px-4 py-2">#{{ u.roleId }}</td>
                    <td class="px-4 py-2 text-center">
                        <span *ngIf="u.isActive"
                            class="px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-700">
                            ƒêang ho·∫°t ƒë·ªông
                        </span>
                        <span *ngIf="!u.isActive"
                            class="px-3 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-700">
                            Ng∆∞ng ho·∫°t ƒë·ªông
                        </span>
                    </td>
                    <td class="px-4 py-2 text-center space-x-2">
                        <button
                            class="px-3 py-1 text-xs rounded bg-blue-100 text-blue-700 hover:bg-blue-200">S·ª≠a</button>
                        <button class="px-3 py-1 text-xs rounded bg-red-100 text-red-700 hover:bg-red-200">X√≥a</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Ph√¢n trang -->
    <div class="mt-6 flex justify-center items-center gap-2 text-sm text-gray-700 flex-wrap">
        <button *ngFor="let page of [].constructor(totalPages); let i = index" (click)="changePage(i + 1)"
            [class.bg-sky-600]="currentPage === i + 1" [class.text-white]="currentPage === i + 1"
            class="px-3 py-1 rounded border border-sky-300 hover:bg-sky-200 transition">
            {{ i + 1 }}
        </button>
    </div>
</div>